{"componentChunkName":"component---src-templates-blog-post-js","path":"/Classes/","webpackCompilationHash":"ab027b07f7dbc3309506","result":{"data":{"markdownRemark":{"html":"<p><img src=\"https://i.imgur.com/Kz6Bpsu.jpg\" title=\"Photo by Pixabay from Pexels\"><p style=\"font-size: 12px; text-align: right\"><em>Photo by Pixabay from Pexels</em></p></p>\n<p><strong>Intro to object oriented programming</strong></p>\n<blockquote>\n<p>Object oriented programming uses objects which represent REAL LIFE entities in code</p>\n</blockquote>\n<blockquote>\n<p>Easier to reason about the code. Example, we can create a ProductList object which has addProduct, removeProduct method and we use it to fetch from server and render in browser a list of products.A product itself can also be an object on its own with a method to display details, add to cart method, etc. ProductList and Product objects are related.</p>\n</blockquote>\n<blockquote>\n<p>This is one way we can think about our application and split it into pieces that make sense to us humans. In JS and TS such objects are supported but we also have classes.</p>\n</blockquote>\n<blockquote>\n<p>What is difference between an object and a class? Objects are concrete things you with with in code. They are data structures we use to store data. Classes are blueprints for objects (theoretical definition of object), they allow us to define how objects should look like., which data and methods they should hold, do that we can easily build objects based on these classes called instances of classes. Object is an instance of a class if it is based on such a class. We can thus quickly replicate objects with same structure and methods.</p>\n</blockquote>\n<blockquote>\n<p>Classes exist to speed up creation of objects. What we used so far was literal notation of objects.</p>\n</blockquote>\n<p><strong>Objects</strong></p>\n<blockquote>\n<p>Objects can be created in two ways:</p>\n</blockquote>\n<ul>\n<li>as object literal: const a = {name: 'Pete'}</li>\n<li>as an instance of a class const a = new Person(\"Pete\")</li>\n</ul>\n<p><strong>Our first class</strong></p>\n<blockquote>\n<p>Classes are defined with a keyword <code>class</code> and names are by convention capitalized:</p>\n</blockquote>\n<pre><code>class Department {\n  name: string;\n}\n</code></pre>\n<blockquote>\n<p>Class above has a field called <code>name</code>. Please note this is not the same as a key - value pair in objects. Field in a class only defines a name of a key which we want to have in an object which we will create based on the class. And here furthermore we defined the value type our key <code>name</code> will hold in the end.</p>\n</blockquote>\n<blockquote>\n<p>We can also set an initial value of our field with equal sign (but we dont have to do that, it is optional)</p>\n</blockquote>\n<pre><code>class Department {\n  name: string = \"DEFAULT\";\n}\n</code></pre>\n<blockquote>\n<p>What we also can have in the class is a <strong>method</strong>. What are methods? They are simply <code>functions in objects</code>. We can define those functions our object will have (methods) in a class too.</p>\n</blockquote>\n<blockquote>\n<p>One of the default method (function in object) is called <code>constructor</code>. It is a special function tied to this class and therefore tied to any object we create based on this class and is executed when the object is being created. It allows to do some initialization work for the object we are building.</p>\n</blockquote>\n<blockquote>\n<p>This function accepts arguments, such as below <code>n</code> and we can for example those n in our field <code>name</code></p>\n</blockquote>\n<pre><code>class Department {\n    name: string;\n    constructor (n: string) {\n    this.name = n\n    }\n}\n</code></pre>\n<blockquote>\n<p>We get the value of the <code>n</code> when we are creating and instance of the class. This value will be passed there and constructor will initialize this <code>n</code> to be assigned to name field (name property) in our class.</p>\n</blockquote>\n<blockquote>\n<p>Please note that we need to access fields this keyword <code>this</code>.</p>\n</blockquote>\n<blockquote>\n<p>Please also note that code below only says that we will have a field name, but it does not assign any value to it.</p>\n</blockquote>\n<pre><code>class Department {\n  name: string;\n}\n</code></pre>\n<blockquote>\n<p>Our constructor function makes sure that when the instance of the class (object) is created it will pass provided <code>n</code> value and store it in our name field.</p>\n</blockquote>\n<p><strong>How to create an instance of the class</strong></p>\n<blockquote>\n<p>So we defined the blueprint (architectural design) of our object. And now how to bring it to life and create one example of that class (a house based on the design)?</p>\n</blockquote>\n<blockquote>\n<p>We use keyword <code>new</code> + name of the class + parenthesis:</p>\n</blockquote>\n<pre><code>new Deprtment()\n</code></pre>\n<blockquote>\n<p>This will create and instance of a Department class.</p>\n</blockquote>\n<blockquote>\n<p>But beware - when we initialize an instance of a class with <code>new Department()</code> its constructor is called and it expects <code>n</code> as an argument!</p>\n</blockquote>\n<blockquote>\n<p>This means we need to provide it else we get a TS error.</p>\n</blockquote>\n<pre><code>new Deprtment(\"Marketing\")\n</code></pre>\n<blockquote>\n<p>We can then store our new instance of a class (object) to a variale and console log it for example:</p>\n</blockquote>\n<pre><code>const ourFirstClass = new Department2(\"Marketing\");\n\nconsole.log(\"ourFirstClass\", ourFirstClass);\n</code></pre>\n<blockquote>\n<p>Result will look like this:</p>\n</blockquote>\n<p><img src=\"https://i.imgur.com/GjKUh8l.png\" title=\"Photo by Addania\"><p style=\"font-size: 12px; text-align: right\"><em>Photo by Addania</em></p></p>\n<blockquote>\n<p>And this is a regular JS object! ðŸ¤¯</p>\n</blockquote>\n<p><strong>Methods</strong></p>\n<blockquote>\n<p>Classes do not only have properties, but also methods - object functions.</p>\n</blockquote>\n<blockquote>\n<p>Special one is constructor which is triggered when we instantiate our class as <code>const accounting = new Department(\"Accounting\")</code>;</p>\n</blockquote>\n<blockquote>\n<p>In oder to add a method we just write its name parenthesis and curly braces such as <code>describe</code> method as below:</p>\n</blockquote>\n<pre><code>class Department {\n  name: string;\n  constructor(n: string) {\n    this.name = n;\n  }\n  describe() {\n    console.log(\"Department: \" + name);\n  }\n}\nconst accounting = new Department(\"Accounting\");\nconst marketing = new Department(\"Marketing\");\naccounting.describe();\n</code></pre>\n<blockquote>\n<p>However there is a problem! <code>\"Department: \" + name</code> assumes that we have a const / variable called name.</p>\n</blockquote>\n<blockquote>\n<p>But the class method has only access to its own scope - code block of the describe method (so anything within curly braces), so we would need to have a variable called name in the method itself:</p>\n</blockquote>\n<pre><code>class Department {\n  name: string;\n  constructor(n: string) {\n    this.name = n;\n  }\n  describe() {\n    const greeting = \"HELLO\"\n    console.log(\"Department: \" + greeting);\n  }\n}\nconst accounting = new Department(\"Accounting\");\nconst marketing = new Department(\"Marketing\");\naccounting.describe();\n</code></pre>\n<blockquote>\n<p>Class method also has access to global variable above the class:</p>\n</blockquote>\n<pre><code>const global = \"I AM TOTALY GLOBAL\"\n\nclass Department {\n  name: string;\n  constructor(n: string) {\n    this.name = n;\n  }\n  describe() {\n\n    console.log(\"Department: \" + global);\n  }\n}\nconst accounting = new Department(\"Accounting\");\nconst marketing = new Department(\"Marketing\");\naccounting.describe();\n</code></pre>\n<blockquote>\n<p>Class method however, does not have access to properties within the class. So describe method cannot access name property. We will get an error: \"Cannot find name\"</p>\n</blockquote>\n<blockquote>\n<p>In order to give access to the class properties and other methods, we need to use a special keyword: <code>this</code>.</p>\n</blockquote>\n<pre><code>class Department {\n  name: string;\n  constructor(n: string) {\n    this.name = n;\n  }\n  describe() {\n    console.log(\"Department: \" + this.name);\n  }\n}\nconst accounting = new Department(\"Accounting\");\nconst marketing = new Department(\"Marketing\");\naccounting.describe();  // Department: Accounting\n</code></pre>\n<blockquote>\n<p><code>This</code> refers back to the CONCRETE INSTANCE of this class that was created. But there is a trick too. It does not refer to the class, but to its instance. So in above example <code>this</code> refers to the <code>accounting</code> object (which was based on Department class).</p>\n</blockquote>\n<blockquote>\n<p>Even more interestingly <code>this</code> refers to the place which called it. So <code>this</code> can be tricky. Let's demonstrate.</p>\n</blockquote>\n<blockquote>\n<p>We add another object which is declared as an object literal:</p>\n</blockquote>\n<pre><code>const accountingCopy = { describe: accounting.describe}\naccountingCopy.describe()\n</code></pre>\n<blockquote>\n<p>Console output will be: <code>Department: undefined</code></p>\n</blockquote>\n<blockquote>\n<p>Reason is that I created an object literal called accountingCopy which contains one property describe which is pointing to the describe method of accounting object. In other words our accountingCopy contains describe property which is passing the describe method from accounting object - we are not executing it at that point, it is <code>executed with accountingCopy.describe()</code>. When this function executes <code>this</code> will not refer to the accounting object where the method was part of originally and hence its name. It will refer to the thing which is responsible for calling this method. Resonsible for calling this method was <code>accountingCopy</code> exactly in this place:</p>\n</blockquote>\n<pre><code>accountingCopy.describe()\n</code></pre>\n<blockquote>\n<p>So <code>this</code> refers to accountingCopy and accountingCopy does not have any name property. Therefore we get undefined.</p>\n</blockquote>\n<blockquote>\n<p>This is something to keep in mind when working with classes. In order for compiler to yell at us when we assume that this refers to original method, we can improve our code:</p>\n</blockquote>\n<pre><code>describe(this: Department) {\n    console.log(\"Department: \" + this.name);\n  }\n</code></pre>\n<blockquote>\n<p>We can add <code>this</code> as a parameter to descrie method which is of a type: Department. This is not a parameter per se. We can still call describe method without any parameter:</p>\n</blockquote>\n<pre><code>accounting.describe()\n</code></pre>\n<blockquote>\n<p>But it is understood by Typescript, in order to define what <code>this</code> refers to. And since we assign type <code>Department</code> we are saying that when describe is executed, <code>this</code> refers to the instance of the class <code>Department</code>. Which is at the end just an object of a type <code>Department</code>.</p>\n</blockquote>\n<blockquote>\n<p>Using this approach will then yield a typescript error if we try to use describe with a different object - our object literal accountingCopy which is not an instance of the class Department:</p>\n</blockquote>\n<pre><code>accountingCopy.describe()\n</code></pre>\n<blockquote>\n<p>Using <code>describe(this: Department){}</code> adds an extra safety check. We would get otified and we would need to fix this, for example by adding name property to our object literal: <code>accountingCopy</code></p>\n</blockquote>\n<pre><code>class Department {\n  name: string;\n  constructor(n: string) {\n    this.name = n;\n  }\n  describe(this: Department) {\n    console.log(\"Department: \" + this.name);\n  }\n}\n\nconst accounting = new Department(\"Accounting\");\n\nconst accountingCopy = { name: \"Addy\", describe: accounting.describe };\n\naccountingCopy.describe();\n</code></pre>","frontmatter":{"title":"Classes"},"excerpt":"Photo by Pixabay from Pexels Intro to object oriented programming Object oriented programming uses objects which represent REAL LIFEâ€¦"}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/Classes/"}}}