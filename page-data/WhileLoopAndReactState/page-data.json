{"componentChunkName":"component---src-templates-blog-post-js","path":"/WhileLoopAndReactState/","webpackCompilationHash":"ad79d7246559a811bb01","result":{"data":{"markdownRemark":{"html":"<p>Imagine to have a <code>while</code> look in which you are updating state:</p>\n<pre><code>export const CodeAdvent20180102 = () => {\n  const [frequencyChanges, setFrequencyChanges] = useState([\n    3,\n    -3,\n    -2,\n    5,\n    4,\n    0\n  ]);\n  const [frequencySum, setFrequencySum] = useState(0);\n  const [uniques, setUniques] = useState([0]);\n  const [reiterate, setReiterate] = useState(true);\n  const [duplicateFrequency, setDuplicateFrequency] = useState();\n\n  function handleClick() {\n    let result = 0;\n    let newArray = [...uniques];\n\n while (reiterate) {\n\n    frequencyChanges.map((item, index) => {\n      result = result + item;\n      console.log(\"Im here\");\n      if (uniques.includes(result) &#x26;&#x26; reiterate) {\n        setReiterate(false);\n        debugger;\n        setDuplicateFrequency(result);\n      } else if (reiterate) {\n        newArray = newArray.concat(result);\n        setUniques(newArray);\n        setFrequencySum(result);\n      }\n    });\n   }\n  }\n</code></pre>\n<p>Updating state within while loop risks running into infinite loop especially if the loop condition is based on the state.</p>\n<p>Why??</p>\n<p>It is bcause the way state works in the React. For performance reasons, when we update the state and use that state info immediatelly afterwards, it is not guaranteed that it will be updated. State updated asynchronously and sometimes state updates are batched (grouped) for performance reasons! </p>\n<p>So dont rely on states too much!</p>","frontmatter":{"title":"While Loop and React State"},"excerpt":"Imagine to have a while look in which you are updating state: Updating state within while loop risks running into infinite loop especiallyâ€¦"}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/WhileLoopAndReactState/"}}}